# YourAiMemoryLog (YAML)

一个智能的用户行为记录和分析系统，专为 macOS 设计。

## 项目简介

YourAiMemoryLog（简称 YAML）是一个全面的用户活动监控和记录系统，能够实时捕获用户在 macOS 上的各种操作行为，并通过 AI 技术进行智能分析和总结。

## 核心功能

### 📝 输入监控
- 实时记录用户键盘输入内容
- 捕获文本输入的时间戳和应用上下文
- 支持多语言输入识别

### 🌐 网页活动追踪
- 监控用户访问的网页 URL
- 记录网页停留时间
- 追踪浏览器标签页切换行为

### 📱 应用使用监控
- 实时监控应用启动和关闭
- 记录应用使用时长
- 追踪应用间切换频率

### 🖱️ 交互行为记录
- 捕获鼠标点击事件
- 记录用户界面交互
- 监控窗口焦点变化

### 📸 智能截图分析
- 定时自动截取屏幕截图
- AI 驱动的截图内容分析
- 智能总结用户活动状态

## 技术架构

### 后端技术栈
- **语言**: Go
- **框架**: Gin/Echo (Web API)
- **数据库**: SQLite/PostgreSQL
- **AI 集成**: OpenAI API / 本地 LLM

### 前端技术栈
- **语言**: Swift
- **框架**: SwiftUI
- **平台**: macOS (Cocoa)
- **权限管理**: Accessibility API

## 核心实现方案

### 1. 键盘输入监控
```
使用 macOS Accessibility API 和 CGEvent 监听全局键盘事件
实现实时输入捕获和文本重构
```

### 2. 应用和网页监控
```
通过 NSWorkspace 监听应用生命周期
使用 AppleScript 获取浏览器活动信息
实现跨应用的活动追踪
```

### 3. 智能截图系统
```
定时截图机制（可配置间隔）
AI 图像分析和内容识别
增量式活动总结更新
```

### 4. 本地文档维护
```
维护轻量级的活动摘要文档
实现增量更新机制，避免上下文溢出
智能压缩历史记录，保持文档精简
```

## 数据流架构

```
用户操作 → 系统监听器 → 数据预处理 → 本地存储
     ↓
定时截图 → AI 分析 → 活动总结 → 文档更新
     ↓
历史数据 → 智能压缩 → 长期存储
```

## 隐私和安全

- 🔒 所有数据本地存储，不上传云端
- 🛡️ 用户完全控制数据访问权限
- 🔐 敏感信息自动过滤和加密
- ⚙️ 可配置的监控级别和排除规则

## 系统要求

- macOS 12.0 或更高版本
- 至少 4GB RAM
- 2GB 可用存储空间
- 网络连接（用于 AI 分析，可选本地模式）

## 安装和配置

### 权限设置
1. 系统偏好设置 → 安全性与隐私 → 辅助功能
2. 添加 YourAiMemoryLog 到允许列表
3. 授予屏幕录制权限

### 首次运行
1. 下载并安装应用
2. 完成权限配置
3. 设置监控偏好
4. 开始记录

## 配置选项

- 截图间隔时间（默认：30秒）
- 监控应用白名单/黑名单
- AI 分析频率
- 数据保留期限
- 敏感词过滤规则

## 开发计划

### Phase 1: 核心监控功能
- [ ] 键盘输入监听
- [ ] 应用活动追踪
- [ ] 基础数据存储

### Phase 2: 智能分析
- [ ] 截图功能实现
- [ ] AI 分析集成
- [ ] 活动总结生成

### Phase 3: 用户界面
- [ ] SwiftUI 界面开发
- [ ] 数据可视化
- [ ] 配置管理界面

### Phase 4: 优化和扩展
- [ ] 性能优化
- [ ] 高级分析功能
- [ ] 导出和分享功能

## 贡献指南

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT License

## 联系方式

如有问题或建议，请通过 GitHub Issues 联系我们。

---

**注意**: 本项目严格遵守用户隐私保护原则，所有数据处理均在本地进行，用户拥有完全的数据控制权。